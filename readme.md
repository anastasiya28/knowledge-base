## Демонстрационный проект

#### Клиент - серверное приложение на Java "Knowledge base"

#### (frontend + backend)

#### Стек технолологий проекта:

* Серверная часть написана с использованием компонентов Spring Framework;

* Интерфейс написан с использованием Bootstrap и jQuery;

* Для хранения данных используется база PostgreSQL;

* Для запуска веб-приложения используется контейнер сервлетов jetty.

По умолчанию jetty стартует на порту 8090.

Все настройки для базы данных и для сервера устанавливаются в файле "application.properties"

(Путь: simple-web-application\src\main\resources\application.properties).

#### Важно!

    Перед запуском приложения в файле с настройками нужно изменить настройки
    подкючения к базе данных, указать параметры используемой Вами базы данных.

Схема базы данных и первоначальные данные для запуска приложения накатываются
скриптами:

* schema.sql (Путь: simple-web-application\src\main\resources\sql\schema.sql);

* data.sql (Путь: simple-web-application\src\main\resources\sql\data.sql);

#### Важно!

    Нужно выполнить два sql скрипта перед первым запуском приложения.

#### Архитектура приложения состоит из нескольких уровней:

* Самый нижний уровень, его можно назвать нулевым, - это уровень, на котором
описываются сущности, используемые в этом приложении;

* Первый уровень - это репозиторий.

Репозиторий – это фасад для доступа к базе данных. Весь код приложения за
пределами репозитория работает с базой данных через него и только через него.

Таким образом, репозиторий инкасулирует в себе логику работы с базой данных,
это слой объектно-реляционного отображения в приложении.

* Второй уровень - это сервис слой.

Серсис инкапсулирует в себе основную часть бизнес-логики приложения.

* Третий уровень - это контроллер.

Контроллер обеспечивает «связи» между пользователем и системой.

Контролирует и направляет данные от пользователя к системе и наоборот.

#### Функциональные возможности приложения:

* Авторизация и аутентификация пользователей с использованием JWT токена;

* Простая ролевая модель управления доступа к объектам;

Для каждого пользователя может быть назначена одна роль.

На текущий момент реализовано две роли: ROLE_ADMIN, ROLE_USER.

При загрузке начальных данных создаются несколько пользователей, за которыми
закреплена роль ROLE_USER.

И создается один пользовать, за которым закреплена роль ROLE_ADMIN:
name = "victor", password = "victor".

Роль ROLE_USER дает право лишь на просмотр текущего контента приложения.

Роль ROLE_ADMIN позволяет добавлять, удалять и редактировать различные компоненты приложения.

#### Порядок работы с приложением:

Набрав в адресной строке Web-браузера адрес http://localhost:9080/index.html,
Вы увидеть начальную страницу приложения.

На этой странице Вам нужно залогиниться, если Вы уже зарегистрированы,
если же нет, то перейти на форму регистрации.

Доступ к ресурсам приложения разрешен только зарегистрированным пользователям.

Для каждого пользователя на основании введенных им личных данных: логина
и пароля, в случае их корректиности, формируется jwt token.

На основании jwt токена определяется роль пользователя и перечень доступных
ему прав доступа к ресурсам приложения.




### API

`/login` - возвращает форму для входа в систему;<br>
`/user/new` - возвращает форму для регистрации нового пользователя;<br>

По умолчанию при регистрации пользователю присваивается роль ROLE_USER.

#### Важно!

    Доступ ко всем остальным ресурсам приложения возможен только при наличии
    корректного jwt токена у пользователя.

<br>

`/api/section/{id}` - возвращает сведения о разделе с заданным идентификатором (id);<br>
`/api/section/{parentId}/child_section_list` - возвращает перечень дочерних
разделов по заданному идентификатору родительксого раздела (parentId);<br>
`/api/section/{id}/article_list` - возвращает перечень статей, которые относятся
к определенному разделу, по заданному идентификатору раздела (id);<br>
`/api/section/{id}/update` - возвращает форму для обновления раздела с заданным
 идентификатором (id);<br><br>

`/api/article/{id}` - возвращает сведения о статье с заданным идентификатором (id);<br>
`/api/article/tag/{id}` -  возвращает перечень статей, которые относятся к определенному тегу,
по заданному идентификатору тега (id);<br>
`/api/article/new` - возвращает форму для создания и добавления новой статьти;<br>
`/api/article/{id}/update` - возвращает форму для обновления статьи с заданным идентификатором (id);<br>
`/api/article/{id}/delete` - возвращает форму для удаления статьи с заданным идентификатором (id); <br>

<br>

`/api/tag/list` - возвращает полный перечень тегов;<br>
`/api/tag/article/{id}` - возвращает перечень тегов, которые относятся к определенной статье, по
заданному идентификатору статьи (id).

